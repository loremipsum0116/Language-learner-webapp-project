# Language Learner ì›¹ í”„ë¡œì íŠ¸ ì¸í„°ë„· ì„œë²„ ë°°í¬ ê°€ì´ë“œ

## í”„ë¡œì íŠ¸ ê°œìš”
- ëª¨ë…¸ë ˆí¬ êµ¬ì¡° (pnpm workspace)
- Frontend: React ì•± (@language-learner/frontend)
- Backend: Node.js Express ì„œë²„ (@language-learner/backend)
- ë°ì´í„°ë² ì´ìŠ¤: MySQL with Prisma ORM

## 1. ì‚¬ì „ ì¤€ë¹„ì‚¬í•­

### í•„ìš”í•œ ê³„ì •
- Vercel ê³„ì • (Frontend ë°°í¬)
- Railway ê³„ì • (Backend + Database ë°°í¬)
- GitHub ê³„ì • (ì½”ë“œ ì €ì¥ì†Œ)

### ë¡œì»¬ í™˜ê²½ í™•ì¸ âœ…
```bash
# Node.js ë²„ì „ í™•ì¸ (í˜„ì¬: v22.17.1 âœ…)
node --version

# pnpm ì„¤ì¹˜ í™•ì¸ (í˜„ì¬: v9.5.0 âœ…)
pnpm --version

# í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ì„¤ì¹˜ âœ…
cd web
pnpm install
```

### ë¹Œë“œ í…ŒìŠ¤íŠ¸ âœ…
```bash
# Windowsìš© ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
deploy.bat

# ë˜ëŠ” ìˆ˜ë™ ë¹Œë“œ
cd web/apps/frontend && npm run build  # âœ… ì„±ê³µ
cd web/apps/backend && npm run build   # âœ… ì„±ê³µ
```

## 2. ë°ì´í„°ë² ì´ìŠ¤ ë°°í¬ (Railway)

### 2.1 Railway MySQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
1. Railway.app ì ‘ì† ë° ë¡œê·¸ì¸
2. "New Project" â†’ "Provision MySQL" ì„ íƒ
3. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± í›„ ì—°ê²° ì •ë³´ í™•ì¸

### 2.2 í™˜ê²½ë³€ìˆ˜ ì„¤ì •
```env
# Railwayì—ì„œ ì œê³µí•˜ëŠ” DATABASE_URL ì‚¬ìš©
DATABASE_URL="mysql://username:password@host:port/database_name"
```

### 2.3 Prisma ë§ˆì´ê·¸ë ˆì´ì…˜
```bash
cd web/apps/backend

# Prisma í´ë¼ì´ì–¸íŠ¸ ìƒì„±
npx prisma generate

# ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë°°í¬
npx prisma db push

# ì‹œë“œ ë°ì´í„° ì‹¤í–‰ (í•„ìš”ì‹œ)
npm run seed
```

## 3. Backend ë°°í¬ (Railway)

### 3.1 Railway í”„ë¡œì íŠ¸ ìƒì„±
1. Railway ëŒ€ì‹œë³´ë“œì—ì„œ "New Project"
2. "Deploy from GitHub repo" ì„ íƒ
3. Language-learner ì €ì¥ì†Œ ì—°ê²°

### 3.2 ë¹Œë“œ ì„¤ì • âœ…
railway.json íŒŒì¼ì´ ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:
```json
// railway.json (ë£¨íŠ¸ì— ì´ë¯¸ ìƒì„±ë¨ âœ…)
{
  "build": {
    "builder": "NIXPACKS",
    "buildCommand": "cd web && pnpm install && cd apps/backend && npm run build"
  },
  "deploy": {
    "startCommand": "cd web/apps/backend && npm start",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  }
}
```

### 3.3 í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Railway ëŒ€ì‹œë³´ë“œ) âœ…
web/apps/backend/.env.example íŒŒì¼ì„ ì°¸ê³ í•˜ì—¬ ì„¤ì •:
```env
NODE_ENV=production
DATABASE_URL=mysql://[Railwayì—ì„œ ì œê³µí•˜ëŠ” URL]
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters
PORT=3000
CORS_ORIGIN=https://your-frontend-domain.vercel.app
```
ğŸ’¡ .env.example íŒŒì¼ì— ì „ì²´ í™˜ê²½ë³€ìˆ˜ ëª©ë¡ì´ ìˆìŠµë‹ˆë‹¤.

### 3.4 í¬íŠ¸ ì„¤ì •
```javascript
// web/apps/backend/index.jsì—ì„œ í™•ì¸
const PORT = process.env.PORT || 3000;
app.listen(PORT, '0.0.0.0', () => {
  console.log(`Server running on port ${PORT}`);
});
```

## 4. Frontend ë°°í¬ (Vercel)

### 4.1 Vercel CLI ì„¤ì¹˜ ë° ë¡œê·¸ì¸
```bash
npm install -g vercel
vercel login
```

### 4.2 Frontend ë°°í¬ ì¤€ë¹„ âœ…
```bash
cd web/apps/frontend

# í™˜ê²½ë³€ìˆ˜ íŒŒì¼ì´ ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤ âœ…
# .env.production íŒŒì¼ í™•ì¸ í›„ API URL ìˆ˜ì •

# ë¹Œë“œ í…ŒìŠ¤íŠ¸ âœ…
npm run build
```

### 4.3 Vercel ë°°í¬ âœ…
vercel.json ì„¤ì • íŒŒì¼ì´ ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:
```bash
# í”„ë¡œì íŠ¸ ë°°í¬
vercel --prod

# ë˜ëŠ” Vercel ëŒ€ì‹œë³´ë“œì—ì„œ GitHub ì—°ë™ (ê¶Œì¥)
```

### 4.4 Vercel í”„ë¡œì íŠ¸ ì„¤ì •
1. Vercel ëŒ€ì‹œë³´ë“œì—ì„œ í”„ë¡œì íŠ¸ ì„ íƒ
2. Settings â†’ Build & Development Settings
```
Framework Preset: Create React App
Root Directory: web/apps/frontend
Build Command: npm run build
Output Directory: build
Install Command: npm install
```

### 4.5 í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Vercel ëŒ€ì‹œë³´ë“œ)
```env
REACT_APP_API_URL=https://your-backend-domain.railway.app
```

## 5. ë„ë©”ì¸ ì„¤ì •

### 5.1 ì»¤ìŠ¤í…€ ë„ë©”ì¸ (ì„ íƒì‚¬í•­)
**Vercel (Frontend)**
1. Project Settings â†’ Domains
2. ë„ë©”ì¸ ì¶”ê°€ ë° DNS ì„¤ì •

**Railway (Backend)**
1. Project Settings â†’ Custom Domain
2. ë„ë©”ì¸ ì¶”ê°€ ë° DNS ì„¤ì •

### 5.2 CORS ì„¤ì • í™•ì¸
```javascript
// web/apps/backend/index.js
app.use(cors({
  origin: [
    'https://your-frontend-domain.vercel.app',
    'https://your-custom-domain.com'
  ],
  credentials: true
}));
```

## 6. ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ìë™í™”

### 6.1 GitHub Actions (ì„ íƒì‚¬í•­)
```yaml
# .github/workflows/deploy.yml
name: Deploy

on:
  push:
    branches: [ main ]

jobs:
  deploy-frontend:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '18'
      - run: cd web/apps/frontend && npm install && npm run build
      - uses: amondnet/vercel-action@v20
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.ORG_ID }}
          vercel-project-id: ${{ secrets.PROJECT_ID }}
```

### 6.2 ë°°í¬ ëª…ë ¹ì–´ ìŠ¤í¬ë¦½íŠ¸
```bash
# deploy.sh (ì‹¤í–‰ ê¶Œí•œ í•„ìš”)
#!/bin/bash

echo "ğŸš€ Language Learner ë°°í¬ ì‹œì‘..."

# Backend ë°°í¬ (Railway)
echo "ğŸ“¦ Backend ë°°í¬ ì¤‘..."
cd web/apps/backend
npm run build

# Frontend ë°°í¬ (Vercel)
echo "ğŸ¨ Frontend ë°°í¬ ì¤‘..."
cd ../frontend
npm run build
vercel --prod

echo "âœ… ë°°í¬ ì™„ë£Œ!"
```

## 7. ëª¨ë‹ˆí„°ë§ ë° ë¡œê·¸

### 7.1 Railway ë¡œê·¸ í™•ì¸
```bash
# Railway CLI ì„¤ì¹˜
npm install -g @railway/cli

# ë¡œê·¸ì¸ ë° ë¡œê·¸ í™•ì¸
railway login
railway logs
```

### 7.2 Vercel í•¨ìˆ˜ ë¡œê·¸
- Vercel ëŒ€ì‹œë³´ë“œ â†’ Functions â†’ View Logs

## 8. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 8.1 ì¼ë°˜ì ì¸ ë¬¸ì œ
**ë¹Œë“œ ì‹¤íŒ¨**
- Node.js ë²„ì „ í™•ì¸ (18+ ê¶Œì¥)
- ì˜ì¡´ì„± ì„¤ì¹˜ í™•ì¸: `pnpm install`
- í™˜ê²½ë³€ìˆ˜ ì„¤ì • í™•ì¸

**CORS ì—ëŸ¬**
```javascript
// Backend CORS ì„¤ì •
app.use(cors({
  origin: process.env.CORS_ORIGIN || 'http://localhost:3000',
  credentials: true
}));
```

**ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨**
- DATABASE_URL í˜•ì‹ í™•ì¸
- ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ê·¸ë£¹ ì„¤ì • í™•ì¸
- Prisma í´ë¼ì´ì–¸íŠ¸ ì¬ìƒì„±: `npx prisma generate`

### 8.2 ì„±ëŠ¥ ìµœì í™”
```bash
# ë¹Œë“œ í¬ê¸° ë¶„ì„
cd web/apps/frontend
npm run analyze

# ì´ë¯¸ì§€ ìµœì í™” (Vercel ìë™)
# API ìºì‹± ì„¤ì •
```

## 9. ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°°í¬ ì „
- [ ] ë¡œì»¬ì—ì„œ í”„ë¡œë•ì…˜ ë¹Œë“œ í…ŒìŠ¤íŠ¸
- [ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ
- [ ] CORS ì„¤ì • í™•ì¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸

### ë°°í¬ í›„
- [ ] Frontend ì ‘ì† í™•ì¸
- [ ] API ì—°ë™ í…ŒìŠ¤íŠ¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
- [ ] ì‚¬ìš©ì ê°€ì…/ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
- [ ] í•µì‹¬ ê¸°ëŠ¥ ë™ì‘ í™•ì¸

## 10. ì˜ˆìƒ ë¹„ìš©
- **Vercel**: ë¬´ë£Œ í”Œëœ (Hobby) - ì›” ë¬´ë£Œ
- **Railway**:
  - ë°ì´í„°ë² ì´ìŠ¤: ì›” $5-10
  - ë°±ì—”ë“œ ì„œë²„: ì‚¬ìš©ëŸ‰ì— ë”°ë¼ $0-20

## 11. ìƒì„±ëœ ë°°í¬ íŒŒì¼ë“¤ âœ…

í”„ë¡œì íŠ¸ì— ë‹¤ìŒ íŒŒì¼ë“¤ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤:

### ë°°í¬ ì„¤ì • íŒŒì¼
- `railway.json` - Railway ë°°í¬ ì„¤ì •
- `vercel.json` - Vercel ë°°í¬ ì„¤ì •
- `web/apps/frontend/.env.production` - í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ë³€ìˆ˜
- `web/apps/backend/.env.example` - ë°±ì—”ë“œ í™˜ê²½ë³€ìˆ˜ ì˜ˆì‹œ

### ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
- `deploy.bat` - Windowsìš© ë°°í¬ ì¤€ë¹„ ìŠ¤í¬ë¦½íŠ¸

### ì‚¬ìš©ë²•
1. `deploy.bat` ì‹¤í–‰í•˜ì—¬ ë¡œì»¬ ë¹Œë“œ í…ŒìŠ¤íŠ¸
2. GitHubì— ì½”ë“œ í‘¸ì‹œ
3. Railwayì—ì„œ ë°±ì—”ë“œ ë°°í¬
4. Vercelì—ì„œ í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬

## 12. ì§€ì› ë° ë¬¸ì˜
- Railway ë¬¸ì„œ: https://docs.railway.app
- Vercel ë¬¸ì„œ: https://vercel.com/docs
- Prisma ë¬¸ì„œ: https://www.prisma.io/docs

---
ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025ë…„ 1ì›” (ë°°í¬ íŒŒì¼ ìƒì„± ì™„ë£Œ)