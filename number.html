<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ì¼ë³¸ì–´ ë‚ ì§œ, ìˆ«ì, ì‹œê°„ ë° ìš”ì¼ í‘œí˜„ì„ í•™ìŠµí•  ìˆ˜ ìˆëŠ” ì¸í„°ë™í‹°ë¸Œ í€´ì¦ˆ í”Œë«í¼">
    <meta name="keywords" content="ì¼ë³¸ì–´, í•™ìŠµ, í€´ì¦ˆ, ë‚ ì§œ, ìˆ«ì, ì‹œê°„, ìš”ì¼, íˆë¼ê°€ë‚˜, ë¡œë§ˆì§€">
    <meta name="author" content="Japanese Learning Center">
    <title>ğŸ‡¯ğŸ‡µ ì¼ë³¸ì–´ ì¢…í•© í•™ìŠµ í€´ì¦ˆ - ë‚ ì§œ, ìˆ«ì, ì‹œê°„ ë§ˆìŠ¤í„°</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-container">
        <div class="header">
            <div class="nav-home">
                <button onclick="goHome()" class="home-btn" aria-label="í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°">ğŸ  í™ˆ</button>
            </div>
            <h1>ğŸ‡¯ğŸ‡µ ì¼ë³¸ì–´ ì¢…í•© í•™ìŠµ ì„¼í„°</h1>
            <p>ë‚ ì§œ, ìˆ«ì, ì‹œê°„Â·ìš”ì¼ì„ ë§ˆìŠ¤í„°í•˜ì„¸ìš”!</p>
        </div>

        <div class="quiz-selector">
            <div class="quiz-card active" onclick="selectQuiz('date')" role="button" tabindex="0" aria-label="ë‚ ì§œ í‘œí˜„ í€´ì¦ˆ ì„ íƒ">
                <h3>ğŸ“… ë‚ ì§œ í‘œí˜„</h3>
                <p>1ì¼ë¶€í„° 31ì¼ê¹Œì§€ì˜ íŠ¹ë³„í•œ ì¼ë³¸ì–´ ë‚ ì§œ ì½ê¸°ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤. íŠ¹íˆ 1~10ì¼, 14ì¼, 20ì¼, 24ì¼ì˜ ë¶ˆê·œì¹™í•œ í‘œí˜„ì„ ì§‘ì¤‘ ì—°ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            <div class="quiz-card" onclick="selectQuiz('number')" role="button" tabindex="0" aria-label="ìˆ«ì í‘œí˜„ í€´ì¦ˆ ì„ íƒ">
                <h3>ğŸ”¢ ìˆ«ì í‘œí˜„</h3>
                <p>ê¸°ë³¸ ìˆ«ì 1~10, ë°± ë‹¨ìœ„(100~1000), ì²œ ë‹¨ìœ„(1000~10000)ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤. 300, 600, 800, 3000, 8000 ë“± íŠ¹ë³„í•œ ë°œìŒì„ ì§‘ì¤‘ ì—°ìŠµí•©ë‹ˆë‹¤.</p>
            </div>
            <div class="quiz-card" onclick="selectQuiz('time')" role="button" tabindex="0" aria-label="ì‹œê°„ê³¼ ìš”ì¼ í‘œí˜„ í€´ì¦ˆ ì„ íƒ">
                <h3>â° ì‹œê°„Â·ìš”ì¼</h3>
                <p>ì‹œ(æ™‚), ë¶„(åˆ†), ìš”ì¼ í‘œí˜„ì„ í•™ìŠµí•©ë‹ˆë‹¤. 4ì‹œ, 7ì‹œ, 9ì‹œì˜ íŠ¹ë³„í•œ ì½ê¸°ì™€ ë¶„ì˜ ãµã‚“/ã·ã‚“ ë³€í™”ë¥¼ ë§ˆìŠ¤í„°í•©ë‹ˆë‹¤.</p>
            </div>
        </div>

        <!-- ë‚ ì§œ í€´ì¦ˆ -->
        <div id="date-quiz" class="quiz-content date-quiz active">
            <div class="mode-selector">
                <button class="mode-btn active" onclick="setDateMode('quiz')">í€´ì¦ˆ ëª¨ë“œ</button>
                <button class="mode-btn" onclick="setDateMode('reference')">ì°¸ê³ í‘œ ë³´ê¸°</button>
            </div>

            <div id="date-quiz-mode" class="sub-mode active">
                <div class="stats">
                    <div class="stat">
                        <div class="stat-label">ë¬¸ì œ ë²ˆí˜¸</div>
                        <div class="stat-value" id="date-questionNumber">1/10</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">ì •ë‹µë¥ </div>
                        <div class="stat-value" id="date-score">0%</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">ì—°ì† ì •ë‹µ</div>
                        <div class="stat-value" id="date-streak">0</div>
                    </div>
                </div>

                <div class="question" id="date-question">1ì¼</div>
                <div class="feedback" id="date-feedback"></div>
                <div class="options" id="date-options"></div>

                <div class="controls">
                    <button class="btn" id="date-nextBtn" onclick="dateNextQuestion()" style="display:none;">ë‹¤ìŒ ë¬¸ì œ</button>
                    <button class="btn" id="date-restartBtn" onclick="dateRestart()" style="display:none;">ë‹¤ì‹œ ì‹œì‘</button>
                </div>
            </div>

            <div id="date-reference-mode" class="sub-mode">
                <div class="reference-table">
                    <h3>ğŸŒŸ íŠ¹ë³„íˆ ì£¼ì˜í•´ì•¼ í•  ë‚ ì§œë“¤</h3>
                    <div class="item-grid">
                        <div class="item-card special">
                            <div class="item-value">1ì¼</div>
                            <div class="item-reading">ã¤ã„ãŸã¡</div>
                            <div class="item-romaji">tsuitachi</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">2ì¼</div>
                            <div class="item-reading">ãµã¤ã‹</div>
                            <div class="item-romaji">futsuka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">3ì¼</div>
                            <div class="item-reading">ã¿ã£ã‹</div>
                            <div class="item-romaji">mikka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">4ì¼</div>
                            <div class="item-reading">ã‚ˆã£ã‹</div>
                            <div class="item-romaji">yokka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">5ì¼</div>
                            <div class="item-reading">ã„ã¤ã‹</div>
                            <div class="item-romaji">itsuka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">6ì¼</div>
                            <div class="item-reading">ã‚€ã„ã‹</div>
                            <div class="item-romaji">muika</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">7ì¼</div>
                            <div class="item-reading">ãªã®ã‹</div>
                            <div class="item-romaji">nanoka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">8ì¼</div>
                            <div class="item-reading">ã‚ˆã†ã‹</div>
                            <div class="item-romaji">youka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">9ì¼</div>
                            <div class="item-reading">ã“ã“ã®ã‹</div>
                            <div class="item-romaji">kokonoka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">10ì¼</div>
                            <div class="item-reading">ã¨ãŠã‹</div>
                            <div class="item-romaji">tooka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">14ì¼</div>
                            <div class="item-reading">ã˜ã‚…ã†ã‚ˆã£ã‹</div>
                            <div class="item-romaji">juu yokka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">20ì¼</div>
                            <div class="item-reading">ã¯ã¤ã‹</div>
                            <div class="item-romaji">hatsuka</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">24ì¼</div>
                            <div class="item-reading">ã«ã˜ã‚…ã†ã‚ˆã£ã‹</div>
                            <div class="item-romaji">nijuu yokka</div>
                        </div>
                    </div>

                    <h3>ğŸ“ ê·œì¹™ì ì¸ ë‚ ì§œë“¤ (11-31ì¼)</h3>
                    <div class="item-grid">
                        <div class="item-card">
                            <div class="item-value">11ì¼</div>
                            <div class="item-reading">ã˜ã‚…ã†ã„ã¡ã«ã¡</div>
                            <div class="item-romaji">juu ichi nichi</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">15ì¼</div>
                            <div class="item-reading">ã˜ã‚…ã†ã”ã«ã¡</div>
                            <div class="item-romaji">juu go nichi</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">21ì¼</div>
                            <div class="item-reading">ã«ã˜ã‚…ã†ã„ã¡ã«ã¡</div>
                            <div class="item-romaji">nijuu ichi nichi</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">25ì¼</div>
                            <div class="item-reading">ã«ã˜ã‚…ã†ã”ã«ã¡</div>
                            <div class="item-romaji">nijuu go nichi</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">30ì¼</div>
                            <div class="item-reading">ã•ã‚“ã˜ã‚…ã†ã«ã¡</div>
                            <div class="item-romaji">sanjuu nichi</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">31ì¼</div>
                            <div class="item-reading">ã•ã‚“ã˜ã‚…ã†ã„ã¡ã«ã¡</div>
                            <div class="item-romaji">sanjuu ichi nichi</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ìˆ«ì í€´ì¦ˆ -->
        <div id="number-quiz" class="quiz-content number-quiz">
            <div class="mode-selector">
                <button class="mode-btn active" onclick="setNumberMode('quiz')">í€´ì¦ˆ ëª¨ë“œ</button>
                <button class="mode-btn" onclick="setNumberMode('reference')">ì°¸ê³ í‘œ ë³´ê¸°</button>
            </div>

            <div id="number-quiz-mode" class="sub-mode active">
                <div class="diff-selector">
                    <button class="diff-btn active" onclick="setNumberDifficulty('all')">ì „ì²´</button>
                    <button class="diff-btn" onclick="setNumberDifficulty('basic')">1-10</button>
                    <button class="diff-btn" onclick="setNumberDifficulty('hundreds')">ë°± ë‹¨ìœ„</button>
                    <button class="diff-btn" onclick="setNumberDifficulty('thousands')">ì²œ ë‹¨ìœ„</button>
                    <button class="diff-btn" onclick="setNumberDifficulty('special')">íŠ¹ë³„í•œ ë°œìŒ</button>
                </div>

                <div class="stats">
                    <div class="stat">
                        <div class="stat-label">ë¬¸ì œ ë²ˆí˜¸</div>
                        <div class="stat-value" id="number-questionNumber">1/10</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">ì •ë‹µë¥ </div>
                        <div class="stat-value" id="number-score">0%</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">ì—°ì† ì •ë‹µ</div>
                        <div class="stat-value" id="number-streak">0</div>
                    </div>
                </div>

                <div class="question" id="number-question">
                    <span>1</span>
                    <div class="question-type" id="number-questionType">ê¸°ë³¸ ìˆ«ì</div>
                </div>
                <div class="feedback" id="number-feedback"></div>
                <div class="options" id="number-options"></div>

                <div class="controls">
                    <button class="btn" id="number-nextBtn" onclick="numberNextQuestion()" style="display:none;">ë‹¤ìŒ ë¬¸ì œ</button>
                    <button class="btn" id="number-restartBtn" onclick="numberRestart()" style="display:none;">ë‹¤ì‹œ ì‹œì‘</button>
                </div>
            </div>

            <div id="number-reference-mode" class="sub-mode">
                <div class="reference-table">
                    <h3>ğŸ¯ ê¸°ë³¸ ìˆ«ì (1-10)</h3>
                    <div class="item-grid">
                        <div class="item-card">
                            <div class="item-value">1</div>
                            <div class="item-reading">ã„ã¡</div>
                            <div class="item-romaji">ichi</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">2</div>
                            <div class="item-reading">ã«</div>
                            <div class="item-romaji">ni</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">3</div>
                            <div class="item-reading">ã•ã‚“</div>
                            <div class="item-romaji">san</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">4</div>
                            <div class="item-reading">ã‚ˆã‚“ / ã—</div>
                            <div class="item-romaji">yon / shi</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">5</div>
                            <div class="item-reading">ã”</div>
                            <div class="item-romaji">go</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">6</div>
                            <div class="item-reading">ã‚ã</div>
                            <div class="item-romaji">roku</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">7</div>
                            <div class="item-reading">ãªãª / ã—ã¡</div>
                            <div class="item-romaji">nana / shichi</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">8</div>
                            <div class="item-reading">ã¯ã¡</div>
                            <div class="item-romaji">hachi</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">9</div>
                            <div class="item-reading">ãã‚…ã† / ã</div>
                            <div class="item-romaji">kyuu / ku</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">10</div>
                            <div class="item-reading">ã˜ã‚…ã†</div>
                            <div class="item-romaji">juu</div>
                        </div>
                    </div>

                    <h3>ğŸ’¯ ë°± ë‹¨ìœ„ (100-1000)</h3>
                    <div class="item-grid">
                        <div class="item-card">
                            <div class="item-value">100</div>
                            <div class="item-reading">ã²ã‚ƒã</div>
                            <div class="item-romaji">hyaku</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">200</div>
                            <div class="item-reading">ã«ã²ã‚ƒã</div>
                            <div class="item-romaji">nihyaku</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">300</div>
                            <div class="item-reading">ã•ã‚“ã³ã‚ƒã</div>
                            <div class="item-romaji">sanbyaku</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">400</div>
                            <div class="item-reading">ã‚ˆã‚“ã²ã‚ƒã</div>
                            <div class="item-romaji">yonhyaku</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">500</div>
                            <div class="item-reading">ã”ã²ã‚ƒã</div>
                            <div class="item-romaji">gohyaku</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">600</div>
                            <div class="item-reading">ã‚ã£ã´ã‚ƒã</div>
                            <div class="item-romaji">roppyaku</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">700</div>
                            <div class="item-reading">ãªãªã²ã‚ƒã</div>
                            <div class="item-romaji">nanahyaku</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">800</div>
                            <div class="item-reading">ã¯ã£ã´ã‚ƒã</div>
                            <div class="item-romaji">happyaku</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">900</div>
                            <div class="item-reading">ãã‚…ã†ã²ã‚ƒã</div>
                            <div class="item-romaji">kyuuhyaku</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">1000</div>
                            <div class="item-reading">ã›ã‚“</div>
                            <div class="item-romaji">sen</div>
                        </div>
                    </div>

                    <h3>ğŸŒ ì²œ ë‹¨ìœ„ (1000-10000)</h3>
                    <div class="item-grid">
                        <div class="item-card">
                            <div class="item-value">1000</div>
                            <div class="item-reading">ã›ã‚“</div>
                            <div class="item-romaji">sen</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">2000</div>
                            <div class="item-reading">ã«ã›ã‚“</div>
                            <div class="item-romaji">nisen</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">3000</div>
                            <div class="item-reading">ã•ã‚“ãœã‚“</div>
                            <div class="item-romaji">sanzen</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">4000</div>
                            <div class="item-reading">ã‚ˆã‚“ã›ã‚“</div>
                            <div class="item-romaji">yonsen</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">5000</div>
                            <div class="item-reading">ã”ã›ã‚“</div>
                            <div class="item-romaji">gosen</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">6000</div>
                            <div class="item-reading">ã‚ãã›ã‚“</div>
                            <div class="item-romaji">rokusen</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">7000</div>
                            <div class="item-reading">ãªãªã›ã‚“</div>
                            <div class="item-romaji">nanasen</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">8000</div>
                            <div class="item-reading">ã¯ã£ã›ã‚“</div>
                            <div class="item-romaji">hassen</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">9000</div>
                            <div class="item-reading">ãã‚…ã†ã›ã‚“</div>
                            <div class="item-romaji">kyuusen</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">10000</div>
                            <div class="item-reading">ã„ã¡ã¾ã‚“</div>
                            <div class="item-romaji">ichiman</div>
                        </div>
                    </div>

                    <div class="note">
                        <div class="note-title">âš ï¸ íŠ¹ë³„í•œ ë°œìŒ ê·œì¹™</div>
                        <div class="note-content">
                            <strong>ë°± ë‹¨ìœ„:</strong> 300(ã•ã‚“ã³ã‚ƒã), 600(ã‚ã£ã´ã‚ƒã), 800(ã¯ã£ã´ã‚ƒã)<br>
                            <strong>ì²œ ë‹¨ìœ„:</strong> 3000(ã•ã‚“ãœã‚“), 8000(ã¯ã£ã›ã‚“)
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì‹œê°„Â·ìš”ì¼ í€´ì¦ˆ -->
        <div id="time-quiz" class="quiz-content time-quiz">
            <div class="mode-selector">
                <button class="mode-btn active" onclick="setTimeMode('quiz')">í€´ì¦ˆ ëª¨ë“œ</button>
                <button class="mode-btn" onclick="setTimeMode('reference')">ì°¸ê³ í‘œ ë³´ê¸°</button>
            </div>

            <div id="time-quiz-mode" class="sub-mode active">
                <div class="diff-selector">
                    <button class="diff-btn active" onclick="setTimeCategory('all')">ì „ì²´</button>
                    <button class="diff-btn" onclick="setTimeCategory('hours')">ì‹œ(æ™‚)</button>
                    <button class="diff-btn" onclick="setTimeCategory('minutes')">ë¶„(åˆ†)</button>
                    <button class="diff-btn" onclick="setTimeCategory('weekdays')">ìš”ì¼</button>
                    <button class="diff-btn" onclick="setTimeCategory('special')">íŠ¹ë³„í•œ ë°œìŒ</button>
                </div>

                <div class="stats">
                    <div class="stat">
                        <div class="stat-label">ë¬¸ì œ ë²ˆí˜¸</div>
                        <div class="stat-value" id="time-questionNumber">1/10</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">ì •ë‹µë¥ </div>
                        <div class="stat-value" id="time-score">0%</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">ì—°ì† ì •ë‹µ</div>
                        <div class="stat-value" id="time-streak">0</div>
                    </div>
                </div>

                <div class="question" id="time-question">
                    <span>1ì‹œ</span>
                    <div class="question-type" id="time-questionType">ì‹œê°„</div>
                </div>
                <div class="feedback" id="time-feedback"></div>
                <div class="options" id="time-options"></div>

                <div class="controls">
                    <button class="btn" id="time-nextBtn" onclick="timeNextQuestion()" style="display:none;">ë‹¤ìŒ ë¬¸ì œ</button>
                    <button class="btn" id="time-restartBtn" onclick="timeRestart()" style="display:none;">ë‹¤ì‹œ ì‹œì‘</button>
                </div>
            </div>

            <div id="time-reference-mode" class="sub-mode">
                <div class="reference-table">
                    <h3>ğŸ• ì‹œ (æ™‚)</h3>
                    <div class="item-grid">
                        <div class="item-card">
                            <div class="item-value">1ì‹œ</div>
                            <div class="item-reading">ã„ã¡ã˜</div>
                            <div class="item-romaji">ichiji</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">2ì‹œ</div>
                            <div class="item-reading">ã«ã˜</div>
                            <div class="item-romaji">niji</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">3ì‹œ</div>
                            <div class="item-reading">ã•ã‚“ã˜</div>
                            <div class="item-romaji">sanji</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">4ì‹œ</div>
                            <div class="item-reading">ã‚ˆã˜</div>
                            <div class="item-romaji">yoji</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">5ì‹œ</div>
                            <div class="item-reading">ã”ã˜</div>
                            <div class="item-romaji">goji</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">6ì‹œ</div>
                            <div class="item-reading">ã‚ãã˜</div>
                            <div class="item-romaji">rokuji</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">7ì‹œ</div>
                            <div class="item-reading">ã—ã¡ã˜</div>
                            <div class="item-romaji">shichiji</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">8ì‹œ</div>
                            <div class="item-reading">ã¯ã¡ã˜</div>
                            <div class="item-romaji">hachiji</div>
                        </div>
                        <div class="item-card special">
                            <div class="item-value">9ì‹œ</div>
                            <div class="item-reading">ãã˜</div>
                            <div class="item-romaji">kuji</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">10ì‹œ</div>
                            <div class="item-reading">ã˜ã‚…ã†ã˜</div>
                            <div class="item-romaji">juuji</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">11ì‹œ</div>
                            <div class="item-reading">ã˜ã‚…ã†ã„ã¡ã˜</div>
                            <div class="item-romaji">juuichiji</div>
                        </div>
                        <div class="item-card">
                            <div class="item-value">12ì‹œ</div>
                            <div class="item-reading">ã˜ã‚…ã†ã«ã˜</div>
                            <div class="item-romaji">juuniji</div>
                        </div>
                    </div>

                    <h3>â±ï¸ ì£¼ìš” ë¶„ (åˆ†)</h3>
                    <div class="scroll-container">
                        <div class="item-grid">
                            <div class="item-card special">
                                <div class="item-value">1ë¶„</div>
                                <div class="item-reading">ã„ã£ã·ã‚“</div>
                                <div class="item-romaji">ippun</div>
                            </div>
                            <div class="item-card">
                                <div class="item-value">2ë¶„</div>
                                <div class="item-reading">ã«ãµã‚“</div>
                                <div class="item-romaji">nifun</div>
                            </div>
                            <div class="item-card special">
                                <div class="item-value">3ë¶„</div>
                                <div class="item-reading">ã•ã‚“ã·ã‚“</div>
                                <div class="item-romaji">sanpun</div>
                            </div>
                            <div class="item-card special">
                                <div class="item-value">4ë¶„</div>
                                <div class="item-reading">ã‚ˆã‚“ã·ã‚“</div>
                                <div class="item-romaji">yonpun</div>
                            </div>
                            <div class="item-card">
                                <div class="item-value">5ë¶„</div>
                                <div class="item-reading">ã”ãµã‚“</div>
                                <div class="item-romaji">gofun</div>
                            </div>
                            <div class="item-card special">
                                <div class="item-value">6ë¶„</div>
                                <div class="item-reading">ã‚ã£ã·ã‚“</div>
                                <div class="item-romaji">roppun</div>
                            </div>
                            <div class="item-card">
                                <div class="item-value">7ë¶„</div>
                                <div class="item-reading">ãªãªãµã‚“</div>
                                <div class="item-romaji">nanafun</div>
                            </div>
                            <div class="item-card special">
                                <div class="item-value">8ë¶„</div>
                                <div class="item-reading">ã¯ã£ã·ã‚“</div>
                                <div class="item-romaji">happun</div>
                            </div>
                            <div class="item-card">
                                <div class="item-value">9ë¶„</div>
                                <div class="item-reading">ãã‚…ã†ãµã‚“</div>
                                <div class="item-romaji">kyuufun</div>
                            </div>
                            <div class="item-card special">
                                <div class="item-value">10ë¶„</div>
                                <div class="item-reading">ã˜ã‚…ã£ã·ã‚“</div>
                                <div class="item-romaji">juppun</div>
                            </div>
                            <div class="item-card">
                                <div class="item-value">15ë¶„</div>
                                <div class="item-reading">ã˜ã‚…ã†ã”ãµã‚“</div>
                                <div class="item-romaji">juugofun</div>
                            </div>
                            <div class="item-card">
                                <div class="item-value">30ë¶„</div>
                                <div class="item-reading">ã•ã‚“ã˜ã‚…ã£ã·ã‚“/ã¯ã‚“</div>
                                <div class="item-romaji">sanjuppun/han</div>
                            </div>
                        </div>
                    </div>

                    <h3>ğŸ“… ìš”ì¼ (æ›œæ—¥)</h3>
                    <div class="item-grid">
                        <div class="weekday-item">
                            <div class="weekday-name">ì›”ìš”ì¼</div>
                            <div class="item-reading">ã’ã¤ã‚ˆã†ã³</div>
                            <div class="item-romaji">getsuyoubi</div>
                            <div class="weekday-kanji">æœˆæ›œæ—¥</div>
                        </div>
                        <div class="weekday-item">
                            <div class="weekday-name">í™”ìš”ì¼</div>
                            <div class="item-reading">ã‹ã‚ˆã†ã³</div>
                            <div class="item-romaji">kayoubi</div>
                            <div class="weekday-kanji">ç«æ›œæ—¥</div>
                        </div>
                        <div class="weekday-item">
                            <div class="weekday-name">ìˆ˜ìš”ì¼</div>
                            <div class="item-reading">ã™ã„ã‚ˆã†ã³</div>
                            <div class="item-romaji">suiyoubi</div>
                            <div class="weekday-kanji">æ°´æ›œæ—¥</div>
                        </div>
                        <div class="weekday-item">
                            <div class="weekday-name">ëª©ìš”ì¼</div>
                            <div class="item-reading">ã‚‚ãã‚ˆã†ã³</div>
                            <div class="item-romaji">mokuyoubi</div>
                            <div class="weekday-kanji">æœ¨æ›œæ—¥</div>
                        </div>
                        <div class="weekday-item">
                            <div class="weekday-name">ê¸ˆìš”ì¼</div>
                            <div class="item-reading">ãã‚“ã‚ˆã†ã³</div>
                            <div class="item-romaji">kinyoubi</div>
                            <div class="weekday-kanji">é‡‘æ›œæ—¥</div>
                        </div>
                        <div class="weekday-item">
                            <div class="weekday-name">í† ìš”ì¼</div>
                            <div class="item-reading">ã©ã‚ˆã†ã³</div>
                            <div class="item-romaji">doyoubi</div>
                            <div class="weekday-kanji">åœŸæ›œæ—¥</div>
                        </div>
                        <div class="weekday-item">
                            <div class="weekday-name">ì¼ìš”ì¼</div>
                            <div class="item-reading">ã«ã¡ã‚ˆã†ã³</div>
                            <div class="item-romaji">nichiyoubi</div>
                            <div class="weekday-kanji">æ—¥æ›œæ—¥</div>
                        </div>
                    </div>

                    <div class="note">
                        <div class="note-title">âš ï¸ íŠ¹ë³„í•œ ë°œìŒ ê·œì¹™</div>
                        <div class="note-content">
                            <strong>ì‹œ:</strong> 4ì‹œ(ã‚ˆã˜), 7ì‹œ(ã—ã¡ã˜), 9ì‹œ(ãã˜)<br>
                            <strong>ë¶„:</strong> 1,3,4,6,8,10ë¶„ì€ ã·ã‚“ìœ¼ë¡œ ë°œìŒ<br>
                            <strong>30ë¶„:</strong> ã•ã‚“ã˜ã‚…ã£ã·ã‚“ ë˜ëŠ” ã¯ã‚“(åŠ)
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let activeQuiz = 'date';

        // í€´ì¦ˆ ì„ íƒ
        function selectQuiz(type) {
            const cards = document.querySelectorAll('.quiz-card');
            const contents = document.querySelectorAll('.quiz-content');
            
            cards.forEach(card => card.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            
            if (type === 'date') {
                cards[0].classList.add('active');
                document.getElementById('date-quiz').classList.add('active');
                if (dateQuiz.questions.length === 0) dateGenerateQuestions();
            } else if (type === 'number') {
                cards[1].classList.add('active');
                document.getElementById('number-quiz').classList.add('active');
                if (numberQuiz.questions.length === 0) numberGenerateQuestions();
            } else if (type === 'time') {
                cards[2].classList.add('active');
                document.getElementById('time-quiz').classList.add('active');
                if (timeQuiz.questions.length === 0) timeGenerateQuestions();
            }
            
            activeQuiz = type;
        }

        // ë‚ ì§œ í€´ì¦ˆ ë°ì´í„°ì™€ ë¡œì§
        const dates = {
            1: { hiragana: 'ã¤ã„ãŸã¡', romaji: 'tsuitachi' },
            2: { hiragana: 'ãµã¤ã‹', romaji: 'futsuka' },
            3: { hiragana: 'ã¿ã£ã‹', romaji: 'mikka' },
            4: { hiragana: 'ã‚ˆã£ã‹', romaji: 'yokka' },
            5: { hiragana: 'ã„ã¤ã‹', romaji: 'itsuka' },
            6: { hiragana: 'ã‚€ã„ã‹', romaji: 'muika' },
            7: { hiragana: 'ãªã®ã‹', romaji: 'nanoka' },
            8: { hiragana: 'ã‚ˆã†ã‹', romaji: 'youka' },
            9: { hiragana: 'ã“ã“ã®ã‹', romaji: 'kokonoka' },
            10: { hiragana: 'ã¨ãŠã‹', romaji: 'tooka' },
            11: { hiragana: 'ã˜ã‚…ã†ã„ã¡ã«ã¡', romaji: 'juu ichi nichi' },
            12: { hiragana: 'ã˜ã‚…ã†ã«ã«ã¡', romaji: 'juu ni nichi' },
            13: { hiragana: 'ã˜ã‚…ã†ã•ã‚“ã«ã¡', romaji: 'juu san nichi' },
            14: { hiragana: 'ã˜ã‚…ã†ã‚ˆã£ã‹', romaji: 'juu yokka' },
            15: { hiragana: 'ã˜ã‚…ã†ã”ã«ã¡', romaji: 'juu go nichi' },
            16: { hiragana: 'ã˜ã‚…ã†ã‚ãã«ã¡', romaji: 'juu roku nichi' },
            17: { hiragana: 'ã˜ã‚…ã†ã—ã¡ã«ã¡', romaji: 'juu shichi nichi' },
            18: { hiragana: 'ã˜ã‚…ã†ã¯ã¡ã«ã¡', romaji: 'juu hachi nichi' },
            19: { hiragana: 'ã˜ã‚…ã†ãã«ã¡', romaji: 'juu ku nichi' },
            20: { hiragana: 'ã¯ã¤ã‹', romaji: 'hatsuka' },
            21: { hiragana: 'ã«ã˜ã‚…ã†ã„ã¡ã«ã¡', romaji: 'nijuu ichi nichi' },
            22: { hiragana: 'ã«ã˜ã‚…ã†ã«ã«ã¡', romaji: 'nijuu ni nichi' },
            23: { hiragana: 'ã«ã˜ã‚…ã†ã•ã‚“ã«ã¡', romaji: 'nijuu san nichi' },
            24: { hiragana: 'ã«ã˜ã‚…ã†ã‚ˆã£ã‹', romaji: 'nijuu yokka' },
            25: { hiragana: 'ã«ã˜ã‚…ã†ã”ã«ã¡', romaji: 'nijuu go nichi' },
            26: { hiragana: 'ã«ã˜ã‚…ã†ã‚ãã«ã¡', romaji: 'nijuu roku nichi' },
            27: { hiragana: 'ã«ã˜ã‚…ã†ã—ã¡ã«ã¡', romaji: 'nijuu shichi nichi' },
            28: { hiragana: 'ã«ã˜ã‚…ã†ã¯ã¡ã«ã¡', romaji: 'nijuu hachi nichi' },
            29: { hiragana: 'ã«ã˜ã‚…ã†ãã«ã¡', romaji: 'nijuu ku nichi' },
            30: { hiragana: 'ã•ã‚“ã˜ã‚…ã†ã«ã¡', romaji: 'sanjuu nichi' },
            31: { hiragana: 'ã•ã‚“ã˜ã‚…ã†ã„ã¡ã«ã¡', romaji: 'sanjuu ichi nichi' }
        };

        const dateQuiz = {
            currentQuestion: 0,
            correctAnswers: 0,
            totalQuestions: 10,
            streak: 0,
            questions: [],
            currentAnswer: '',
            answered: false
        };

        function setDateMode(mode) {
            const buttons = document.querySelectorAll('#date-quiz .mode-btn');
            const modes = document.querySelectorAll('#date-quiz .sub-mode');
            
            buttons.forEach(btn => btn.classList.remove('active'));
            modes.forEach(m => m.classList.remove('active'));
            
            if (mode === 'quiz') {
                buttons[0].classList.add('active');
                document.getElementById('date-quiz-mode').classList.add('active');
            } else {
                buttons[1].classList.add('active');
                document.getElementById('date-reference-mode').classList.add('active');
            }
        }

        function dateGenerateQuestions() {
            const specialDates = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 14, 20, 24];
            const specialQuestions = specialDates.sort(() => Math.random() - 0.5).slice(0, 7);
            const regularDates = Object.keys(dates)
                .map(d => parseInt(d))
                .filter(d => !specialDates.includes(d))
                .sort(() => Math.random() - 0.5)
                .slice(0, 3);
            
            dateQuiz.questions = [...specialQuestions, ...regularDates].sort(() => Math.random() - 0.5);
            dateShowQuestion();
        }

        function dateShowQuestion() {
            if (dateQuiz.currentQuestion >= dateQuiz.totalQuestions) {
                dateShowResult();
                return;
            }

            dateQuiz.answered = false;
            const questionNum = dateQuiz.questions[dateQuiz.currentQuestion];
            dateQuiz.currentAnswer = dates[questionNum].hiragana;
            
            document.getElementById('date-question').textContent = `${questionNum}ì¼`;
            document.getElementById('date-questionNumber').textContent = `${dateQuiz.currentQuestion + 1}/${dateQuiz.totalQuestions}`;
            document.getElementById('date-feedback').classList.remove('show');
            document.getElementById('date-nextBtn').style.display = 'none';
            
            const options = dateGenerateOptions(questionNum);
            const optionsContainer = document.getElementById('date-options');
            optionsContainer.innerHTML = '';
            
            options.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.innerHTML = `
                    <div>${option.hiragana}</div>
                    <div style="color: #888; font-size: 0.9em; margin-top: 5px;">${option.romaji}</div>
                `;
                optionDiv.onclick = () => dateCheckAnswer(option.hiragana, optionDiv);
                optionsContainer.appendChild(optionDiv);
            });
        }

        function dateGenerateOptions(correctDate) {
            const correctOption = dates[correctDate];
            const options = [correctOption];
            const usedDates = [correctDate];
            
            while (options.length < 4) {
                const randomDate = Math.floor(Math.random() * 31) + 1;
                if (!usedDates.includes(randomDate)) {
                    options.push(dates[randomDate]);
                    usedDates.push(randomDate);
                }
            }
            
            return options.sort(() => Math.random() - 0.5);
        }

        function dateCheckAnswer(selected, element) {
            if (dateQuiz.answered) return;
            dateQuiz.answered = true;
            
            const options = document.querySelectorAll('#date-options .option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            const feedback = document.getElementById('date-feedback');
            
            if (selected === dateQuiz.currentAnswer) {
                element.classList.add('correct');
                dateQuiz.correctAnswers++;
                dateQuiz.streak++;
                feedback.innerHTML = `âœ¨ ì •ë‹µì…ë‹ˆë‹¤! í›Œë¥­í•´ìš”!`;
                feedback.className = 'feedback correct show';
            } else {
                element.classList.add('wrong');
                dateQuiz.streak = 0;
                feedback.innerHTML = `âŒ í‹€ë ¸ìŠµë‹ˆë‹¤. ì •ë‹µì€ <strong>${dateQuiz.currentAnswer}</strong> ì…ë‹ˆë‹¤.`;
                feedback.className = 'feedback wrong show';
                
                options.forEach(opt => {
                    if (opt.textContent.includes(dateQuiz.currentAnswer)) {
                        opt.classList.add('correct');
                    }
                });
            }
            
            dateUpdateScore();
            document.getElementById('date-nextBtn').style.display = 'block';
        }

        function dateUpdateScore() {
            const percentage = Math.round((dateQuiz.correctAnswers / (dateQuiz.currentQuestion + 1)) * 100);
            document.getElementById('date-score').textContent = `${percentage}%`;
            document.getElementById('date-streak').textContent = dateQuiz.streak;
        }

        function dateNextQuestion() {
            dateQuiz.currentQuestion++;
            dateShowQuestion();
        }

        function dateShowResult() {
            const percentage = Math.round((dateQuiz.correctAnswers / dateQuiz.totalQuestions) * 100);
            const question = document.getElementById('date-question');
            question.style.fontSize = '1.5em';
            
            let message = '';
            if (percentage === 100) {
                message = 'ğŸ‰ ì™„ë²½í•©ë‹ˆë‹¤! ëª¨ë“  ë¬¸ì œë¥¼ ë§ì·„ì–´ìš”!';
            } else if (percentage >= 80) {
                message = 'ğŸ‘ í›Œë¥­í•´ìš”! ê±°ì˜ ë‹¤ ë§ì·„ë„¤ìš”!';
            } else if (percentage >= 60) {
                message = 'ğŸ‘ ì¢‹ì•„ìš”! ì¡°ê¸ˆë§Œ ë” ì—°ìŠµí•˜ë©´ ì™„ë²½í•´ì§ˆ ê±°ì˜ˆìš”!';
            } else {
                message = 'ğŸ’ª í™”ì´íŒ…! ì°¸ê³ í‘œë¥¼ ë³´ê³  ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”!';
            }
            
            question.innerHTML = `
                <div>
                    <div>ìµœì¢… ì ìˆ˜: ${percentage}%</div>
                    <div style="font-size: 0.7em; margin-top: 10px;">${dateQuiz.correctAnswers}/${dateQuiz.totalQuestions} ë¬¸ì œ ì •ë‹µ</div>
                    <div style="font-size: 0.6em; margin-top: 10px;">${message}</div>
                </div>
            `;
            
            document.getElementById('date-options').innerHTML = '';
            document.getElementById('date-feedback').classList.remove('show');
            document.getElementById('date-nextBtn').style.display = 'none';
            document.getElementById('date-restartBtn').style.display = 'block';
        }

        function dateRestart() {
            dateQuiz.currentQuestion = 0;
            dateQuiz.correctAnswers = 0;
            dateQuiz.streak = 0;
            dateGenerateQuestions();
            document.getElementById('date-restartBtn').style.display = 'none';
            dateUpdateScore();
        }

        // ìˆ«ì í€´ì¦ˆ ë°ì´í„°ì™€ ë¡œì§
        const numbers = {
            1: { hiragana: 'ã„ã¡', romaji: 'ichi', type: 'basic' },
            2: { hiragana: 'ã«', romaji: 'ni', type: 'basic' },
            3: { hiragana: 'ã•ã‚“', romaji: 'san', type: 'basic' },
            4: { hiragana: 'ã‚ˆã‚“', romaji: 'yon', type: 'basic' },
            5: { hiragana: 'ã”', romaji: 'go', type: 'basic' },
            6: { hiragana: 'ã‚ã', romaji: 'roku', type: 'basic' },
            7: { hiragana: 'ãªãª', romaji: 'nana', type: 'basic' },
            8: { hiragana: 'ã¯ã¡', romaji: 'hachi', type: 'basic' },
            9: { hiragana: 'ãã‚…ã†', romaji: 'kyuu', type: 'basic' },
            10: { hiragana: 'ã˜ã‚…ã†', romaji: 'juu', type: 'basic' },
            100: { hiragana: 'ã²ã‚ƒã', romaji: 'hyaku', type: 'hundreds' },
            200: { hiragana: 'ã«ã²ã‚ƒã', romaji: 'nihyaku', type: 'hundreds' },
            300: { hiragana: 'ã•ã‚“ã³ã‚ƒã', romaji: 'sanbyaku', type: 'hundreds', special: true },
            400: { hiragana: 'ã‚ˆã‚“ã²ã‚ƒã', romaji: 'yonhyaku', type: 'hundreds' },
            500: { hiragana: 'ã”ã²ã‚ƒã', romaji: 'gohyaku', type: 'hundreds' },
            600: { hiragana: 'ã‚ã£ã´ã‚ƒã', romaji: 'roppyaku', type: 'hundreds', special: true },
            700: { hiragana: 'ãªãªã²ã‚ƒã', romaji: 'nanahyaku', type: 'hundreds' },
            800: { hiragana: 'ã¯ã£ã´ã‚ƒã', romaji: 'happyaku', type: 'hundreds', special: true },
            900: { hiragana: 'ãã‚…ã†ã²ã‚ƒã', romaji: 'kyuuhyaku', type: 'hundreds' },
            1000: { hiragana: 'ã›ã‚“', romaji: 'sen', type: 'thousands' },
            2000: { hiragana: 'ã«ã›ã‚“', romaji: 'nisen', type: 'thousands' },
            3000: { hiragana: 'ã•ã‚“ãœã‚“', romaji: 'sanzen', type: 'thousands', special: true },
            4000: { hiragana: 'ã‚ˆã‚“ã›ã‚“', romaji: 'yonsen', type: 'thousands' },
            5000: { hiragana: 'ã”ã›ã‚“', romaji: 'gosen', type: 'thousands' },
            6000: { hiragana: 'ã‚ãã›ã‚“', romaji: 'rokusen', type: 'thousands' },
            7000: { hiragana: 'ãªãªã›ã‚“', romaji: 'nanasen', type: 'thousands' },
            8000: { hiragana: 'ã¯ã£ã›ã‚“', romaji: 'hassen', type: 'thousands', special: true },
            9000: { hiragana: 'ãã‚…ã†ã›ã‚“', romaji: 'kyuusen', type: 'thousands' },
            10000: { hiragana: 'ã„ã¡ã¾ã‚“', romaji: 'ichiman', type: 'thousands' }
        };

        const numberQuiz = {
            currentQuestion: 0,
            correctAnswers: 0,
            totalQuestions: 10,
            streak: 0,
            questions: [],
            currentAnswer: '',
            currentNumber: 0,
            answered: false,
            currentDifficulty: 'all'
        };

        function setNumberMode(mode) {
            const buttons = document.querySelectorAll('#number-quiz .mode-btn');
            const modes = document.querySelectorAll('#number-quiz .sub-mode');
            
            buttons.forEach(btn => btn.classList.remove('active'));
            modes.forEach(m => m.classList.remove('active'));
            
            if (mode === 'quiz') {
                buttons[0].classList.add('active');
                document.getElementById('number-quiz-mode').classList.add('active');
            } else {
                buttons[1].classList.add('active');
                document.getElementById('number-reference-mode').classList.add('active');
            }
        }

        function setNumberDifficulty(difficulty) {
            numberQuiz.currentDifficulty = difficulty;
            const buttons = document.querySelectorAll('#number-quiz .diff-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            numberRestart();
        }

        function numberGenerateQuestions() {
            let pool = [];
            
            switch(numberQuiz.currentDifficulty) {
                case 'basic':
                    pool = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
                    break;
                case 'hundreds':
                    pool = [100, 200, 300, 400, 500, 600, 700, 800, 900];
                    break;
                case 'thousands':
                    pool = [1000, 2000, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000];
                    break;
                case 'special':
                    pool = [300, 600, 800, 3000, 8000];
                    break;
                case 'all':
                default:
                    const specialNumbers = [300, 600, 800, 3000, 8000];
                    pool = [
                        ...specialNumbers.sort(() => Math.random() - 0.5).slice(0, 5),
                        1, 2, 7, 9, 10,
                        100, 500,
                        1000, 5000, 10000
                    ];
                    break;
            }
            
            numberQuiz.questions = pool.sort(() => Math.random() - 0.5).slice(0, numberQuiz.totalQuestions);
            numberShowQuestion();
        }

        function numberGetQuestionType(num) {
            const number = numbers[num];
            if (number.special) return 'íŠ¹ë³„í•œ ë°œìŒ';
            if (number.type === 'basic') return 'ê¸°ë³¸ ìˆ«ì';
            if (number.type === 'hundreds') return 'ë°± ë‹¨ìœ„';
            if (number.type === 'thousands') return 'ì²œ ë‹¨ìœ„';
            return '';
        }

        function numberShowQuestion() {
            if (numberQuiz.currentQuestion >= numberQuiz.totalQuestions) {
                numberShowResult();
                return;
            }

            numberQuiz.answered = false;
            numberQuiz.currentNumber = numberQuiz.questions[numberQuiz.currentQuestion];
            numberQuiz.currentAnswer = numbers[numberQuiz.currentNumber].hiragana;
            
            document.getElementById('number-question').innerHTML = `
                <span>${numberQuiz.currentNumber.toLocaleString()}</span>
                <div class="question-type">${numberGetQuestionType(numberQuiz.currentNumber)}</div>
            `;
            document.getElementById('number-questionNumber').textContent = `${numberQuiz.currentQuestion + 1}/${numberQuiz.totalQuestions}`;
            document.getElementById('number-feedback').classList.remove('show');
            document.getElementById('number-nextBtn').style.display = 'none';
            
            const options = numberGenerateOptions(numberQuiz.currentNumber);
            const optionsContainer = document.getElementById('number-options');
            optionsContainer.innerHTML = '';
            
            options.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.innerHTML = `
                    <div style="font-size: 1.3em;">${option.hiragana}</div>
                    <div style="color: #888; font-size: 0.9em; margin-top: 5px;">${option.romaji}</div>
                `;
                optionDiv.onclick = () => numberCheckAnswer(option.hiragana, optionDiv);
                optionsContainer.appendChild(optionDiv);
            });
        }

        function numberGenerateOptions(correctNum) {
            const correctOption = numbers[correctNum];
            const options = [correctOption];
            const usedNumbers = [correctNum];
            
            const sameTypeNumbers = Object.keys(numbers)
                .map(n => parseInt(n))
                .filter(n => numbers[n].type === correctOption.type && n !== correctNum);
            
            while (options.length < 4) {
                let randomNum;
                
                if (sameTypeNumbers.length > 0 && Math.random() > 0.3) {
                    const availableNums = sameTypeNumbers.filter(n => !usedNumbers.includes(n));
                    if (availableNums.length > 0) {
                        randomNum = availableNums[Math.floor(Math.random() * availableNums.length)];
                    }
                }
                
                if (!randomNum) {
                    const allNumbers = Object.keys(numbers).map(n => parseInt(n));
                    const availableNums = allNumbers.filter(n => !usedNumbers.includes(n));
                    randomNum = availableNums[Math.floor(Math.random() * availableNums.length)];
                }
                
                if (randomNum && !usedNumbers.includes(randomNum)) {
                    options.push(numbers[randomNum]);
                    usedNumbers.push(randomNum);
                }
            }
            
            return options.sort(() => Math.random() - 0.5);
        }

        function numberCheckAnswer(selected, element) {
            if (numberQuiz.answered) return;
            numberQuiz.answered = true;
            
            const options = document.querySelectorAll('#number-options .option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            const feedback = document.getElementById('number-feedback');
            const numberInfo = numbers[numberQuiz.currentNumber];
            
            if (selected === numberQuiz.currentAnswer) {
                element.classList.add('correct');
                numberQuiz.correctAnswers++;
                numberQuiz.streak++;
                let message = `âœ¨ ì •ë‹µì…ë‹ˆë‹¤! `;
                if (numberInfo.special) {
                    message += `(íŠ¹ë³„í•œ ë°œìŒì— ì£¼ì˜!)`;
                }
                feedback.innerHTML = message;
                feedback.className = 'feedback correct show';
            } else {
                element.classList.add('wrong');
                numberQuiz.streak = 0;
                let message = `âŒ í‹€ë ¸ìŠµë‹ˆë‹¤. ì •ë‹µì€ <strong>${numberQuiz.currentAnswer}</strong> (${numberInfo.romaji}) ì…ë‹ˆë‹¤.`;
                if (numberInfo.special) {
                    message += ` <br>ğŸ’¡ ì´ ìˆ«ìëŠ” íŠ¹ë³„í•œ ë°œìŒ ê·œì¹™ì´ ì ìš©ë©ë‹ˆë‹¤!`;
                }
                feedback.innerHTML = message;
                feedback.className = 'feedback wrong show';
                
                options.forEach(opt => {
                    if (opt.textContent.includes(numberQuiz.currentAnswer)) {
                        opt.classList.add('correct');
                    }
                });
            }
            
            numberUpdateScore();
            document.getElementById('number-nextBtn').style.display = 'block';
        }

        function numberUpdateScore() {
            const percentage = Math.round((numberQuiz.correctAnswers / (numberQuiz.currentQuestion + 1)) * 100);
            document.getElementById('number-score').textContent = `${percentage}%`;
            document.getElementById('number-streak').textContent = numberQuiz.streak;
        }

        function numberNextQuestion() {
            numberQuiz.currentQuestion++;
            numberShowQuestion();
        }

        function numberShowResult() {
            const percentage = Math.round((numberQuiz.correctAnswers / numberQuiz.totalQuestions) * 100);
            const question = document.getElementById('number-question');
            question.style.fontSize = '1.5em';
            
            let message = '';
            if (percentage === 100) {
                message = 'ğŸ‰ ì™„ë²½í•©ë‹ˆë‹¤! ì¼ë³¸ì–´ ìˆ«ì ë§ˆìŠ¤í„°!';
            } else if (percentage >= 80) {
                message = 'ğŸ‘ í›Œë¥­í•´ìš”! ê±°ì˜ ì™„ë²½í•˜ë„¤ìš”!';
            } else if (percentage >= 60) {
                message = 'ğŸ‘ ì¢‹ì•„ìš”! íŠ¹ë³„í•œ ë°œìŒ ê·œì¹™ì„ ë” ì—°ìŠµí•´ë³´ì„¸ìš”!';
            } else {
                message = 'ğŸ’ª í™”ì´íŒ…! ì°¸ê³ í‘œë¥¼ ë³´ê³  ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”!';
            }
            
            question.innerHTML = `
                <div>
                    <div style="font-size: 1.2em;">ìµœì¢… ì ìˆ˜: ${percentage}%</div>
                    <div style="font-size: 0.7em; margin-top: 10px;">${numberQuiz.correctAnswers}/${numberQuiz.totalQuestions} ë¬¸ì œ ì •ë‹µ</div>
                    <div style="font-size: 0.6em; margin-top: 10px;">${message}</div>
                </div>
            `;
            
            document.getElementById('number-options').innerHTML = '';
            document.getElementById('number-feedback').classList.remove('show');
            document.getElementById('number-nextBtn').style.display = 'none';
            document.getElementById('number-restartBtn').style.display = 'block';
        }

        function numberRestart() {
            numberQuiz.currentQuestion = 0;
            numberQuiz.correctAnswers = 0;
            numberQuiz.streak = 0;
            numberGenerateQuestions();
            document.getElementById('number-restartBtn').style.display = 'none';
            numberUpdateScore();
        }

        // ì‹œê°„Â·ìš”ì¼ í€´ì¦ˆ ë°ì´í„°ì™€ ë¡œì§
        const timeData = {
            '1ì‹œ': { hiragana: 'ã„ã¡ã˜', romaji: 'ichiji', type: 'hours' },
            '2ì‹œ': { hiragana: 'ã«ã˜', romaji: 'niji', type: 'hours' },
            '3ì‹œ': { hiragana: 'ã•ã‚“ã˜', romaji: 'sanji', type: 'hours' },
            '4ì‹œ': { hiragana: 'ã‚ˆã˜', romaji: 'yoji', type: 'hours', special: true },
            '5ì‹œ': { hiragana: 'ã”ã˜', romaji: 'goji', type: 'hours' },
            '6ì‹œ': { hiragana: 'ã‚ãã˜', romaji: 'rokuji', type: 'hours' },
            '7ì‹œ': { hiragana: 'ã—ã¡ã˜', romaji: 'shichiji', type: 'hours', special: true },
            '8ì‹œ': { hiragana: 'ã¯ã¡ã˜', romaji: 'hachiji', type: 'hours' },
            '9ì‹œ': { hiragana: 'ãã˜', romaji: 'kuji', type: 'hours', special: true },
            '10ì‹œ': { hiragana: 'ã˜ã‚…ã†ã˜', romaji: 'juuji', type: 'hours' },
            '11ì‹œ': { hiragana: 'ã˜ã‚…ã†ã„ã¡ã˜', romaji: 'juuichiji', type: 'hours' },
            '12ì‹œ': { hiragana: 'ã˜ã‚…ã†ã«ã˜', romaji: 'juuniji', type: 'hours' },
            '1ë¶„': { hiragana: 'ã„ã£ã·ã‚“', romaji: 'ippun', type: 'minutes', special: true },
            '2ë¶„': { hiragana: 'ã«ãµã‚“', romaji: 'nifun', type: 'minutes' },
            '3ë¶„': { hiragana: 'ã•ã‚“ã·ã‚“', romaji: 'sanpun', type: 'minutes', special: true },
            '4ë¶„': { hiragana: 'ã‚ˆã‚“ã·ã‚“', romaji: 'yonpun', type: 'minutes', special: true },
            '5ë¶„': { hiragana: 'ã”ãµã‚“', romaji: 'gofun', type: 'minutes' },
            '6ë¶„': { hiragana: 'ã‚ã£ã·ã‚“', romaji: 'roppun', type: 'minutes', special: true },
            '7ë¶„': { hiragana: 'ãªãªãµã‚“', romaji: 'nanafun', type: 'minutes' },
            '8ë¶„': { hiragana: 'ã¯ã£ã·ã‚“', romaji: 'happun', type: 'minutes', special: true },
            '9ë¶„': { hiragana: 'ãã‚…ã†ãµã‚“', romaji: 'kyuufun', type: 'minutes' },
            '10ë¶„': { hiragana: 'ã˜ã‚…ã£ã·ã‚“', romaji: 'juppun', type: 'minutes', special: true },
            '15ë¶„': { hiragana: 'ã˜ã‚…ã†ã”ãµã‚“', romaji: 'juugofun', type: 'minutes' },
            '30ë¶„': { hiragana: 'ã•ã‚“ã˜ã‚…ã£ã·ã‚“', romaji: 'sanjuppun', type: 'minutes', alt: 'ã¯ã‚“ (han)' },
            'ì›”ìš”ì¼': { hiragana: 'ã’ã¤ã‚ˆã†ã³', romaji: 'getsuyoubi', type: 'weekdays', kanji: 'æœˆæ›œæ—¥' },
            'í™”ìš”ì¼': { hiragana: 'ã‹ã‚ˆã†ã³', romaji: 'kayoubi', type: 'weekdays', kanji: 'ç«æ›œæ—¥' },
            'ìˆ˜ìš”ì¼': { hiragana: 'ã™ã„ã‚ˆã†ã³', romaji: 'suiyoubi', type: 'weekdays', kanji: 'æ°´æ›œæ—¥' },
            'ëª©ìš”ì¼': { hiragana: 'ã‚‚ãã‚ˆã†ã³', romaji: 'mokuyoubi', type: 'weekdays', kanji: 'æœ¨æ›œæ—¥' },
            'ê¸ˆìš”ì¼': { hiragana: 'ãã‚“ã‚ˆã†ã³', romaji: 'kinyoubi', type: 'weekdays', kanji: 'é‡‘æ›œæ—¥' },
            'í† ìš”ì¼': { hiragana: 'ã©ã‚ˆã†ã³', romaji: 'doyoubi', type: 'weekdays', kanji: 'åœŸæ›œæ—¥' },
            'ì¼ìš”ì¼': { hiragana: 'ã«ã¡ã‚ˆã†ã³', romaji: 'nichiyoubi', type: 'weekdays', kanji: 'æ—¥æ›œæ—¥' }
        };

        const timeQuiz = {
            currentQuestion: 0,
            correctAnswers: 0,
            totalQuestions: 10,
            streak: 0,
            questions: [],
            currentAnswer: '',
            currentKey: '',
            answered: false,
            currentCategory: 'all'
        };

        function setTimeMode(mode) {
            const buttons = document.querySelectorAll('#time-quiz .mode-btn');
            const modes = document.querySelectorAll('#time-quiz .sub-mode');
            
            buttons.forEach(btn => btn.classList.remove('active'));
            modes.forEach(m => m.classList.remove('active'));
            
            if (mode === 'quiz') {
                buttons[0].classList.add('active');
                document.getElementById('time-quiz-mode').classList.add('active');
            } else {
                buttons[1].classList.add('active');
                document.getElementById('time-reference-mode').classList.add('active');
            }
        }

        function setTimeCategory(category) {
            timeQuiz.currentCategory = category;
            const buttons = document.querySelectorAll('#time-quiz .diff-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            timeRestart();
        }

        function timeGenerateQuestions() {
            let pool = [];
            
            switch(timeQuiz.currentCategory) {
                case 'hours':
                    pool = Object.keys(timeData).filter(key => timeData[key].type === 'hours');
                    break;
                case 'minutes':
                    pool = Object.keys(timeData).filter(key => timeData[key].type === 'minutes');
                    break;
                case 'weekdays':
                    pool = Object.keys(timeData).filter(key => timeData[key].type === 'weekdays');
                    break;
                case 'special':
                    pool = Object.keys(timeData).filter(key => timeData[key].special === true);
                    break;
                case 'all':
                default:
                    const specialPool = Object.keys(timeData).filter(key => timeData[key].special === true);
                    const hoursPool = Object.keys(timeData).filter(key => timeData[key].type === 'hours' && !timeData[key].special);
                    const minutesPool = Object.keys(timeData).filter(key => timeData[key].type === 'minutes' && !timeData[key].special);
                    const weekdaysPool = Object.keys(timeData).filter(key => timeData[key].type === 'weekdays');
                    
                    pool = [
                        ...specialPool.sort(() => Math.random() - 0.5).slice(0, 4),
                        ...hoursPool.sort(() => Math.random() - 0.5).slice(0, 2),
                        ...minutesPool.sort(() => Math.random() - 0.5).slice(0, 2),
                        ...weekdaysPool.sort(() => Math.random() - 0.5).slice(0, 2)
                    ];
                    break;
            }
            
            timeQuiz.questions = pool.sort(() => Math.random() - 0.5).slice(0, timeQuiz.totalQuestions);
            timeShowQuestion();
        }

        function timeGetQuestionType(key) {
            const data = timeData[key];
            if (data.special) return 'íŠ¹ë³„í•œ ë°œìŒ';
            if (data.type === 'hours') return 'ì‹œê°„';
            if (data.type === 'minutes') return 'ë¶„';
            if (data.type === 'weekdays') return 'ìš”ì¼';
            return '';
        }

        function timeShowQuestion() {
            if (timeQuiz.currentQuestion >= timeQuiz.totalQuestions) {
                timeShowResult();
                return;
            }

            timeQuiz.answered = false;
            timeQuiz.currentKey = timeQuiz.questions[timeQuiz.currentQuestion];
            timeQuiz.currentAnswer = timeData[timeQuiz.currentKey].hiragana;
            
            document.getElementById('time-question').innerHTML = `
                <span>${timeQuiz.currentKey}</span>
                <div class="question-type">${timeGetQuestionType(timeQuiz.currentKey)}</div>
            `;
            document.getElementById('time-questionNumber').textContent = `${timeQuiz.currentQuestion + 1}/${timeQuiz.totalQuestions}`;
            document.getElementById('time-feedback').classList.remove('show');
            document.getElementById('time-nextBtn').style.display = 'none';
            
            const options = timeGenerateOptions(timeQuiz.currentKey);
            const optionsContainer = document.getElementById('time-options');
            optionsContainer.innerHTML = '';
            
            options.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                let content = `
                    <div style="font-size: 1.3em;">${option.hiragana}</div>
                    <div style="color: #888; font-size: 0.9em; margin-top: 5px;">${option.romaji}</div>
                `;
                if (option.kanji) {
                    content += `<div style="color: #aaa; font-size: 1.2em; margin-top: 5px;">${option.kanji}</div>`;
                }
                optionDiv.innerHTML = content;
                optionDiv.onclick = () => timeCheckAnswer(option.hiragana, optionDiv);
                optionsContainer.appendChild(optionDiv);
            });
        }

        function timeGenerateOptions(correctKey) {
            const correctOption = timeData[correctKey];
            const options = [correctOption];
            const usedKeys = [correctKey];
            
            const sameTypeKeys = Object.keys(timeData).filter(key => 
                timeData[key].type === correctOption.type && key !== correctKey
            );
            
            while (options.length < 4) {
                let randomKey;
                
                if (sameTypeKeys.length > 0 && Math.random() > 0.2) {
                    const availableKeys = sameTypeKeys.filter(key => !usedKeys.includes(key));
                    if (availableKeys.length > 0) {
                        randomKey = availableKeys[Math.floor(Math.random() * availableKeys.length)];
                    }
                }
                
                if (!randomKey) {
                    const allKeys = Object.keys(timeData);
                    const availableKeys = allKeys.filter(key => !usedKeys.includes(key));
                    randomKey = availableKeys[Math.floor(Math.random() * availableKeys.length)];
                }
                
                if (randomKey && !usedKeys.includes(randomKey)) {
                    options.push(timeData[randomKey]);
                    usedKeys.push(randomKey);
                }
            }
            
            return options.sort(() => Math.random() - 0.5);
        }

        function timeCheckAnswer(selected, element) {
            if (timeQuiz.answered) return;
            timeQuiz.answered = true;
            
            const options = document.querySelectorAll('#time-options .option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            const feedback = document.getElementById('time-feedback');
            const data = timeData[timeQuiz.currentKey];
            
            if (selected === timeQuiz.currentAnswer) {
                element.classList.add('correct');
                timeQuiz.correctAnswers++;
                timeQuiz.streak++;
                let message = `âœ¨ ì •ë‹µì…ë‹ˆë‹¤! `;
                if (data.alt) {
                    message += `ë‹¤ë¥¸ í‘œí˜„: ${data.alt}`;
                }
                if (data.special) {
                    message += ` (íŠ¹ë³„í•œ ë°œìŒ ê·œì¹™!)`;
                }
                feedback.innerHTML = message;
                feedback.className = 'feedback correct show';
            } else {
                element.classList.add('wrong');
                timeQuiz.streak = 0;
                let message = `âŒ í‹€ë ¸ìŠµë‹ˆë‹¤. ì •ë‹µì€ <strong>${timeQuiz.currentAnswer}</strong> (${data.romaji}) ì…ë‹ˆë‹¤.`;
                if (data.special) {
                    if (timeQuiz.currentKey.includes('ì‹œ')) {
                        message += ` <br>ğŸ’¡ ${timeQuiz.currentKey}ëŠ” íŠ¹ë³„í•œ ì½ê¸°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤!`;
                    } else if (timeQuiz.currentKey.includes('ë¶„')) {
                        message += ` <br>ğŸ’¡ ì´ ë¶„ì€ ã·ã‚“ìœ¼ë¡œ ë°œìŒë©ë‹ˆë‹¤!`;
                    }
                }
                feedback.innerHTML = message;
                feedback.className = 'feedback wrong show';
                
                options.forEach(opt => {
                    if (opt.textContent.includes(timeQuiz.currentAnswer)) {
                        opt.classList.add('correct');
                    }
                });
            }
            
            timeUpdateScore();
            document.getElementById('time-nextBtn').style.display = 'block';
        }

        function timeUpdateScore() {
            const percentage = Math.round((timeQuiz.correctAnswers / (timeQuiz.currentQuestion + 1)) * 100);
            document.getElementById('time-score').textContent = `${percentage}%`;
            document.getElementById('time-streak').textContent = timeQuiz.streak;
        }

        function timeNextQuestion() {
            timeQuiz.currentQuestion++;
            timeShowQuestion();
        }

        function timeShowResult() {
            const percentage = Math.round((timeQuiz.correctAnswers / timeQuiz.totalQuestions) * 100);
            const question = document.getElementById('time-question');
            question.style.fontSize = '1.5em';
            
            let message = '';
            if (percentage === 100) {
                message = 'ğŸ‰ ì™„ë²½í•©ë‹ˆë‹¤! ì‹œê°„ í‘œí˜„ ë§ˆìŠ¤í„°!';
            } else if (percentage >= 80) {
                message = 'ğŸ‘ í›Œë¥­í•´ìš”! ê±°ì˜ ì™„ë²½í•˜ë„¤ìš”!';
            } else if (percentage >= 60) {
                message = 'ğŸ‘ ì¢‹ì•„ìš”! íŠ¹ë³„í•œ ë°œìŒì„ ë” ì—°ìŠµí•´ë³´ì„¸ìš”!';
            } else {
                message = 'ğŸ’ª í™”ì´íŒ…! ì°¸ê³ í‘œë¥¼ ë³´ê³  ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”!';
            }
            
            question.innerHTML = `
                <div>
                    <div style="font-size: 1.2em;">ìµœì¢… ì ìˆ˜: ${percentage}%</div>
                    <div style="font-size: 0.7em; margin-top: 10px;">${timeQuiz.correctAnswers}/${timeQuiz.totalQuestions} ë¬¸ì œ ì •ë‹µ</div>
                    <div style="font-size: 0.6em; margin-top: 10px;">${message}</div>
                </div>
            `;
            
            document.getElementById('time-options').innerHTML = '';
            document.getElementById('time-feedback').classList.remove('show');
            document.getElementById('time-nextBtn').style.display = 'none';
            document.getElementById('time-restartBtn').style.display = 'block';
        }

        function timeRestart() {
            timeQuiz.currentQuestion = 0;
            timeQuiz.correctAnswers = 0;
            timeQuiz.streak = 0;
            timeGenerateQuestions();
            document.getElementById('time-restartBtn').style.display = 'none';
            timeUpdateScore();
        }

        // í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜ ì¶”ê°€
        document.addEventListener('keydown', function(event) {
            // í€´ì¦ˆ ì¹´ë“œ í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜
            const cards = document.querySelectorAll('.quiz-card');
            cards.forEach((card, index) => {
                card.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        card.click();
                    }
                });
            });

            // ì˜µì…˜ í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜ (1-4 í‚¤)
            if (['1', '2', '3', '4'].includes(event.key)) {
                const options = document.querySelectorAll(`#${activeQuiz}-options .option`);
                const optionIndex = parseInt(event.key) - 1;
                if (options[optionIndex]) {
                    options[optionIndex].click();
                }
            }

            // Enter í‚¤ë¡œ ë‹¤ìŒ ë¬¸ì œ ì§„í–‰
            if (event.key === 'Enter') {
                const nextBtn = document.querySelector(`#${activeQuiz}-nextBtn`);
                if (nextBtn && nextBtn.style.display !== 'none') {
                    nextBtn.click();
                }
            }

            // ìŠ¤í˜ì´ìŠ¤ë°”ë¡œ ë‹¤ì‹œ ì‹œì‘
            if (event.key === ' ' && event.ctrlKey) {
                event.preventDefault();
                const restartBtn = document.querySelector(`#${activeQuiz}-restartBtn`);
                if (restartBtn && restartBtn.style.display !== 'none') {
                    restartBtn.click();
                }
            }
        });

        // í™ˆìœ¼ë¡œ ì´ë™ í•¨ìˆ˜
        function goHome() {
            window.location.href = 'index.html';
        }

        // ì´ˆê¸°í™”
        dateGenerateQuestions();
    </script>
</body>
</html>